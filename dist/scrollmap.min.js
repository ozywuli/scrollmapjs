!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Scrollmap=t()}}(function(){return function t(e,r,n){function o(a,s){if(!r[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var f=r[a]={exports:{}};e[a][0].call(f.exports,function(t){var r=e[a][1][t];return o(r||t)},f,f.exports,t,e,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default={mapboxAccessToken:"pk.eyJ1IjoiYW9zaWthIiwiYSI6IjQzRGIxeEkifQ.7OvmyBbXwwt9Qxjlh9Qd3w"}},{}],2:[function(t,e,r){var n=t("./_getNative")(t("./_root"),"DataView");e.exports=n},{"./_getNative":51,"./_root":86}],3:[function(t,e,r){var n=t("./_hashClear"),o=t("./_hashDelete"),i=t("./_hashGet"),a=t("./_hashHas"),s=t("./_hashSet");function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},{"./_hashClear":57,"./_hashDelete":58,"./_hashGet":59,"./_hashHas":60,"./_hashSet":61}],4:[function(t,e,r){var n=t("./_listCacheClear"),o=t("./_listCacheDelete"),i=t("./_listCacheGet"),a=t("./_listCacheHas"),s=t("./_listCacheSet");function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},{"./_listCacheClear":68,"./_listCacheDelete":69,"./_listCacheGet":70,"./_listCacheHas":71,"./_listCacheSet":72}],5:[function(t,e,r){var n=t("./_getNative")(t("./_root"),"Map");e.exports=n},{"./_getNative":51,"./_root":86}],6:[function(t,e,r){var n=t("./_mapCacheClear"),o=t("./_mapCacheDelete"),i=t("./_mapCacheGet"),a=t("./_mapCacheHas"),s=t("./_mapCacheSet");function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},{"./_mapCacheClear":73,"./_mapCacheDelete":74,"./_mapCacheGet":75,"./_mapCacheHas":76,"./_mapCacheSet":77}],7:[function(t,e,r){var n=t("./_getNative")(t("./_root"),"Promise");e.exports=n},{"./_getNative":51,"./_root":86}],8:[function(t,e,r){var n=t("./_getNative")(t("./_root"),"Set");e.exports=n},{"./_getNative":51,"./_root":86}],9:[function(t,e,r){var n=t("./_MapCache"),o=t("./_setCacheAdd"),i=t("./_setCacheHas");function a(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},{"./_MapCache":6,"./_setCacheAdd":87,"./_setCacheHas":88}],10:[function(t,e,r){var n=t("./_ListCache"),o=t("./_stackClear"),i=t("./_stackDelete"),a=t("./_stackGet"),s=t("./_stackHas"),c=t("./_stackSet");function u(t){var e=this.__data__=new n(t);this.size=e.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},{"./_ListCache":4,"./_stackClear":90,"./_stackDelete":91,"./_stackGet":92,"./_stackHas":93,"./_stackSet":94}],11:[function(t,e,r){var n=t("./_root").Symbol;e.exports=n},{"./_root":86}],12:[function(t,e,r){var n=t("./_root").Uint8Array;e.exports=n},{"./_root":86}],13:[function(t,e,r){var n=t("./_getNative")(t("./_root"),"WeakMap");e.exports=n},{"./_getNative":51,"./_root":86}],14:[function(t,e,r){e.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i}},{}],15:[function(t,e,r){var n=t("./_baseTimes"),o=t("./isArguments"),i=t("./isArray"),a=t("./isBuffer"),s=t("./_isIndex"),c=t("./isTypedArray"),u=Object.prototype.hasOwnProperty;e.exports=function(t,e){var r=i(t),f=!r&&o(t),l=!r&&!f&&a(t),p=!r&&!f&&!l&&c(t),_=r||f||l||p,h=_?n(t.length,String):[],y=h.length;for(var d in t)!e&&!u.call(t,d)||_&&("length"==d||l&&("offset"==d||"parent"==d)||p&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||s(d,y))||h.push(d);return h}},{"./_baseTimes":37,"./_isIndex":62,"./isArguments":105,"./isArray":106,"./isBuffer":108,"./isTypedArray":114}],16:[function(t,e,r){e.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},{}],17:[function(t,e,r){e.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}},{}],18:[function(t,e,r){e.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},{}],19:[function(t,e,r){var n=t("./eq");e.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},{"./eq":99}],20:[function(t,e,r){e.exports=function(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},{}],21:[function(t,e,r){var n=t("./_castPath"),o=t("./_toKey");e.exports=function(t,e){for(var r=0,i=(e=n(e,t)).length;null!=t&&r<i;)t=t[o(e[r++])];return r&&r==i?t:void 0}},{"./_castPath":41,"./_toKey":96}],22:[function(t,e,r){var n=t("./_arrayPush"),o=t("./isArray");e.exports=function(t,e,r){var i=e(t);return o(t)?i:n(i,r(t))}},{"./_arrayPush":17,"./isArray":106}],23:[function(t,e,r){var n=t("./_Symbol"),o=t("./_getRawTag"),i=t("./_objectToString"),a="[object Null]",s="[object Undefined]",c=n?n.toStringTag:void 0;e.exports=function(t){return null==t?void 0===t?s:a:c&&c in Object(t)?o(t):i(t)}},{"./_Symbol":11,"./_getRawTag":52,"./_objectToString":84}],24:[function(t,e,r){e.exports=function(t,e){return null!=t&&e in Object(t)}},{}],25:[function(t,e,r){var n=t("./_baseGetTag"),o=t("./isObjectLike"),i="[object Arguments]";e.exports=function(t){return o(t)&&n(t)==i}},{"./_baseGetTag":23,"./isObjectLike":112}],26:[function(t,e,r){var n=t("./_baseIsEqualDeep"),o=t("./isObjectLike");e.exports=function t(e,r,i,a,s){return e===r||(null==e||null==r||!o(e)&&!o(r)?e!=e&&r!=r:n(e,r,i,a,t,s))}},{"./_baseIsEqualDeep":27,"./isObjectLike":112}],27:[function(t,e,r){var n=t("./_Stack"),o=t("./_equalArrays"),i=t("./_equalByTag"),a=t("./_equalObjects"),s=t("./_getTag"),c=t("./isArray"),u=t("./isBuffer"),f=t("./isTypedArray"),l=1,p="[object Arguments]",_="[object Array]",h="[object Object]",y=Object.prototype.hasOwnProperty;e.exports=function(t,e,r,d,v,g){var b=c(t),m=c(e),x=b?_:s(t),j=m?_:s(e),C=(x=x==p?h:x)==h,k=(j=j==p?h:j)==h,S=x==j;if(S&&u(t)){if(!u(e))return!1;b=!0,C=!1}if(S&&!C)return g||(g=new n),b||f(t)?o(t,e,r,d,v,g):i(t,e,x,r,d,v,g);if(!(r&l)){var A=C&&y.call(t,"__wrapped__"),O=k&&y.call(e,"__wrapped__");if(A||O){var w=A?t.value():t,T=O?e.value():e;return g||(g=new n),v(w,T,r,d,g)}}return!!S&&(g||(g=new n),a(t,e,r,d,v,g))}},{"./_Stack":10,"./_equalArrays":44,"./_equalByTag":45,"./_equalObjects":46,"./_getTag":54,"./isArray":106,"./isBuffer":108,"./isTypedArray":114}],28:[function(t,e,r){var n=t("./_Stack"),o=t("./_baseIsEqual"),i=1,a=2;e.exports=function(t,e,r,s){var c=r.length,u=c,f=!s;if(null==t)return!u;for(t=Object(t);c--;){var l=r[c];if(f&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++c<u;){var p=(l=r[c])[0],_=t[p],h=l[1];if(f&&l[2]){if(void 0===_&&!(p in t))return!1}else{var y=new n;if(s)var d=s(_,h,p,t,e,y);if(!(void 0===d?o(h,_,i|a,s,y):d))return!1}}return!0}},{"./_Stack":10,"./_baseIsEqual":26}],29:[function(t,e,r){var n=t("./isFunction"),o=t("./_isMasked"),i=t("./isObject"),a=t("./_toSource"),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,f=c.toString,l=u.hasOwnProperty,p=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(t){return!(!i(t)||o(t))&&(n(t)?p:s).test(a(t))}},{"./_isMasked":65,"./_toSource":97,"./isFunction":109,"./isObject":111}],30:[function(t,e,r){var n=t("./_baseGetTag"),o=t("./isLength"),i=t("./isObjectLike"),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;e.exports=function(t){return i(t)&&o(t.length)&&!!a[n(t)]}},{"./_baseGetTag":23,"./isLength":110,"./isObjectLike":112}],31:[function(t,e,r){var n=t("./_baseMatches"),o=t("./_baseMatchesProperty"),i=t("./identity"),a=t("./isArray"),s=t("./property");e.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?a(t)?o(t[0],t[1]):n(t):s(t)}},{"./_baseMatches":33,"./_baseMatchesProperty":34,"./identity":104,"./isArray":106,"./property":118}],32:[function(t,e,r){var n=t("./_isPrototype"),o=t("./_nativeKeys"),i=Object.prototype.hasOwnProperty;e.exports=function(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))i.call(t,r)&&"constructor"!=r&&e.push(r);return e}},{"./_isPrototype":66,"./_nativeKeys":82}],33:[function(t,e,r){var n=t("./_baseIsMatch"),o=t("./_getMatchData"),i=t("./_matchesStrictComparable");e.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},{"./_baseIsMatch":28,"./_getMatchData":50,"./_matchesStrictComparable":79}],34:[function(t,e,r){var n=t("./_baseIsEqual"),o=t("./get"),i=t("./hasIn"),a=t("./_isKey"),s=t("./_isStrictComparable"),c=t("./_matchesStrictComparable"),u=t("./_toKey"),f=1,l=2;e.exports=function(t,e){return a(t)&&s(e)?c(u(t),e):function(r){var a=o(r,t);return void 0===a&&a===e?i(r,t):n(e,a,f|l)}}},{"./_baseIsEqual":26,"./_isKey":63,"./_isStrictComparable":67,"./_matchesStrictComparable":79,"./_toKey":96,"./get":102,"./hasIn":103}],35:[function(t,e,r){e.exports=function(t){return function(e){return null==e?void 0:e[t]}}},{}],36:[function(t,e,r){var n=t("./_baseGet");e.exports=function(t){return function(e){return n(e,t)}}},{"./_baseGet":21}],37:[function(t,e,r){e.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},{}],38:[function(t,e,r){var n=t("./_Symbol"),o=t("./_arrayMap"),i=t("./isArray"),a=t("./isSymbol"),s=1/0,c=n?n.prototype:void 0,u=c?c.toString:void 0;e.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return u?u.call(e):"";var r=e+"";return"0"==r&&1/e==-s?"-0":r}},{"./_Symbol":11,"./_arrayMap":16,"./isArray":106,"./isSymbol":113}],39:[function(t,e,r){e.exports=function(t){return function(e){return t(e)}}},{}],40:[function(t,e,r){e.exports=function(t,e){return t.has(e)}},{}],41:[function(t,e,r){var n=t("./isArray"),o=t("./_isKey"),i=t("./_stringToPath"),a=t("./toString");e.exports=function(t,e){return n(t)?t:o(t,e)?[t]:i(a(t))}},{"./_isKey":63,"./_stringToPath":95,"./isArray":106,"./toString":125}],42:[function(t,e,r){var n=t("./_root")["__core-js_shared__"];e.exports=n},{"./_root":86}],43:[function(t,e,r){var n=t("./_baseIteratee"),o=t("./isArrayLike"),i=t("./keys");e.exports=function(t){return function(e,r,a){var s=Object(e);if(!o(e)){var c=n(r,3);e=i(e),r=function(t){return c(s[t],t,s)}}var u=t(e,r,a);return u>-1?s[c?e[u]:u]:void 0}}},{"./_baseIteratee":31,"./isArrayLike":107,"./keys":115}],44:[function(t,e,r){var n=t("./_SetCache"),o=t("./_arraySome"),i=t("./_cacheHas"),a=1,s=2;e.exports=function(t,e,r,c,u,f){var l=r&a,p=t.length,_=e.length;if(p!=_&&!(l&&_>p))return!1;var h=f.get(t);if(h&&f.get(e))return h==e;var y=-1,d=!0,v=r&s?new n:void 0;for(f.set(t,e),f.set(e,t);++y<p;){var g=t[y],b=e[y];if(c)var m=l?c(b,g,y,e,t,f):c(g,b,y,t,e,f);if(void 0!==m){if(m)continue;d=!1;break}if(v){if(!o(e,function(t,e){if(!i(v,e)&&(g===t||u(g,t,r,c,f)))return v.push(e)})){d=!1;break}}else if(g!==b&&!u(g,b,r,c,f)){d=!1;break}}return f.delete(t),f.delete(e),d}},{"./_SetCache":9,"./_arraySome":18,"./_cacheHas":40}],45:[function(t,e,r){var n=t("./_Symbol"),o=t("./_Uint8Array"),i=t("./eq"),a=t("./_equalArrays"),s=t("./_mapToArray"),c=t("./_setToArray"),u=1,f=2,l="[object Boolean]",p="[object Date]",_="[object Error]",h="[object Map]",y="[object Number]",d="[object RegExp]",v="[object Set]",g="[object String]",b="[object Symbol]",m="[object ArrayBuffer]",x="[object DataView]",j=n?n.prototype:void 0,C=j?j.valueOf:void 0;e.exports=function(t,e,r,n,j,k,S){switch(r){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case m:return!(t.byteLength!=e.byteLength||!k(new o(t),new o(e)));case l:case p:case y:return i(+t,+e);case _:return t.name==e.name&&t.message==e.message;case d:case g:return t==e+"";case h:var A=s;case v:var O=n&u;if(A||(A=c),t.size!=e.size&&!O)return!1;var w=S.get(t);if(w)return w==e;n|=f,S.set(t,e);var T=a(A(t),A(e),n,j,k,S);return S.delete(t),T;case b:if(C)return C.call(t)==C.call(e)}return!1}},{"./_Symbol":11,"./_Uint8Array":12,"./_equalArrays":44,"./_mapToArray":78,"./_setToArray":89,"./eq":99}],46:[function(t,e,r){var n=t("./_getAllKeys"),o=1,i=Object.prototype.hasOwnProperty;e.exports=function(t,e,r,a,s,c){var u=r&o,f=n(t),l=f.length;if(l!=n(e).length&&!u)return!1;for(var p=l;p--;){var _=f[p];if(!(u?_ in e:i.call(e,_)))return!1}var h=c.get(t);if(h&&c.get(e))return h==e;var y=!0;c.set(t,e),c.set(e,t);for(var d=u;++p<l;){var v=t[_=f[p]],g=e[_];if(a)var b=u?a(g,v,_,e,t,c):a(v,g,_,t,e,c);if(!(void 0===b?v===g||s(v,g,r,a,c):b)){y=!1;break}d||(d="constructor"==_)}if(y&&!d){var m=t.constructor,x=e.constructor;m!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof x&&x instanceof x)&&(y=!1)}return c.delete(t),c.delete(e),y}},{"./_getAllKeys":48}],47:[function(t,e,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],48:[function(t,e,r){var n=t("./_baseGetAllKeys"),o=t("./_getSymbols"),i=t("./keys");e.exports=function(t){return n(t,i,o)}},{"./_baseGetAllKeys":22,"./_getSymbols":53,"./keys":115}],49:[function(t,e,r){var n=t("./_isKeyable");e.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},{"./_isKeyable":64}],50:[function(t,e,r){var n=t("./_isStrictComparable"),o=t("./keys");e.exports=function(t){for(var e=o(t),r=e.length;r--;){var i=e[r],a=t[i];e[r]=[i,a,n(a)]}return e}},{"./_isStrictComparable":67,"./keys":115}],51:[function(t,e,r){var n=t("./_baseIsNative"),o=t("./_getValue");e.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},{"./_baseIsNative":29,"./_getValue":55}],52:[function(t,e,r){var n=t("./_Symbol"),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=n?n.toStringTag:void 0;e.exports=function(t){var e=i.call(t,s),r=t[s];try{t[s]=void 0;var n=!0}catch(t){}var o=a.call(t);return n&&(e?t[s]=r:delete t[s]),o}},{"./_Symbol":11}],53:[function(t,e,r){var n=t("./_arrayFilter"),o=t("./stubArray"),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),n(a(t),function(e){return i.call(t,e)}))}:o;e.exports=s},{"./_arrayFilter":14,"./stubArray":119}],54:[function(t,e,r){var n=t("./_DataView"),o=t("./_Map"),i=t("./_Promise"),a=t("./_Set"),s=t("./_WeakMap"),c=t("./_baseGetTag"),u=t("./_toSource"),f=u(n),l=u(o),p=u(i),_=u(a),h=u(s),y=c;(n&&"[object DataView]"!=y(new n(new ArrayBuffer(1)))||o&&"[object Map]"!=y(new o)||i&&"[object Promise]"!=y(i.resolve())||a&&"[object Set]"!=y(new a)||s&&"[object WeakMap]"!=y(new s))&&(y=function(t){var e=c(t),r="[object Object]"==e?t.constructor:void 0,n=r?u(r):"";if(n)switch(n){case f:return"[object DataView]";case l:return"[object Map]";case p:return"[object Promise]";case _:return"[object Set]";case h:return"[object WeakMap]"}return e}),e.exports=y},{"./_DataView":2,"./_Map":5,"./_Promise":7,"./_Set":8,"./_WeakMap":13,"./_baseGetTag":23,"./_toSource":97}],55:[function(t,e,r){e.exports=function(t,e){return null==t?void 0:t[e]}},{}],56:[function(t,e,r){var n=t("./_castPath"),o=t("./isArguments"),i=t("./isArray"),a=t("./_isIndex"),s=t("./isLength"),c=t("./_toKey");e.exports=function(t,e,r){for(var u=-1,f=(e=n(e,t)).length,l=!1;++u<f;){var p=c(e[u]);if(!(l=null!=t&&r(t,p)))break;t=t[p]}return l||++u!=f?l:!!(f=null==t?0:t.length)&&s(f)&&a(p,f)&&(i(t)||o(t))}},{"./_castPath":41,"./_isIndex":62,"./_toKey":96,"./isArguments":105,"./isArray":106,"./isLength":110}],57:[function(t,e,r){var n=t("./_nativeCreate");e.exports=function(){this.__data__=n?n(null):{},this.size=0}},{"./_nativeCreate":81}],58:[function(t,e,r){e.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},{}],59:[function(t,e,r){var n=t("./_nativeCreate"),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;e.exports=function(t){var e=this.__data__;if(n){var r=e[t];return r===o?void 0:r}return i.call(e,t)?e[t]:void 0}},{"./_nativeCreate":81}],60:[function(t,e,r){var n=t("./_nativeCreate"),o=Object.prototype.hasOwnProperty;e.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},{"./_nativeCreate":81}],61:[function(t,e,r){var n=t("./_nativeCreate"),o="__lodash_hash_undefined__";e.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?o:e,this}},{"./_nativeCreate":81}],62:[function(t,e,r){var n=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=function(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||o.test(t))&&t>-1&&t%1==0&&t<e}},{}],63:[function(t,e,r){var n=t("./isArray"),o=t("./isSymbol"),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!o(t))||a.test(t)||!i.test(t)||null!=e&&t in Object(e)}},{"./isArray":106,"./isSymbol":113}],64:[function(t,e,r){e.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},{}],65:[function(t,e,r){var n=t("./_coreJsData"),o=function(){var t=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();e.exports=function(t){return!!o&&o in t}},{"./_coreJsData":42}],66:[function(t,e,r){var n=Object.prototype;e.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},{}],67:[function(t,e,r){var n=t("./isObject");e.exports=function(t){return t==t&&!n(t)}},{"./isObject":111}],68:[function(t,e,r){e.exports=function(){this.__data__=[],this.size=0}},{}],69:[function(t,e,r){var n=t("./_assocIndexOf"),o=Array.prototype.splice;e.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0||(r==e.length-1?e.pop():o.call(e,r,1),--this.size,0))}},{"./_assocIndexOf":19}],70:[function(t,e,r){var n=t("./_assocIndexOf");e.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},{"./_assocIndexOf":19}],71:[function(t,e,r){var n=t("./_assocIndexOf");e.exports=function(t){return n(this.__data__,t)>-1}},{"./_assocIndexOf":19}],72:[function(t,e,r){var n=t("./_assocIndexOf");e.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},{"./_assocIndexOf":19}],73:[function(t,e,r){var n=t("./_Hash"),o=t("./_ListCache"),i=t("./_Map");e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},{"./_Hash":3,"./_ListCache":4,"./_Map":5}],74:[function(t,e,r){var n=t("./_getMapData");e.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},{"./_getMapData":49}],75:[function(t,e,r){var n=t("./_getMapData");e.exports=function(t){return n(this,t).get(t)}},{"./_getMapData":49}],76:[function(t,e,r){var n=t("./_getMapData");e.exports=function(t){return n(this,t).has(t)}},{"./_getMapData":49}],77:[function(t,e,r){var n=t("./_getMapData");e.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},{"./_getMapData":49}],78:[function(t,e,r){e.exports=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}},{}],79:[function(t,e,r){e.exports=function(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}}},{}],80:[function(t,e,r){var n=t("./memoize"),o=500;e.exports=function(t){var e=n(t,function(t){return r.size===o&&r.clear(),t}),r=e.cache;return e}},{"./memoize":116}],81:[function(t,e,r){var n=t("./_getNative")(Object,"create");e.exports=n},{"./_getNative":51}],82:[function(t,e,r){var n=t("./_overArg")(Object.keys,Object);e.exports=n},{"./_overArg":85}],83:[function(t,e,r){var n=t("./_freeGlobal"),o="object"==typeof r&&r&&!r.nodeType&&r,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&n.process,s=function(){try{return a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},{"./_freeGlobal":47}],84:[function(t,e,r){var n=Object.prototype.toString;e.exports=function(t){return n.call(t)}},{}],85:[function(t,e,r){e.exports=function(t,e){return function(r){return t(e(r))}}},{}],86:[function(t,e,r){var n=t("./_freeGlobal"),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},{"./_freeGlobal":47}],87:[function(t,e,r){var n="__lodash_hash_undefined__";e.exports=function(t){return this.__data__.set(t,n),this}},{}],88:[function(t,e,r){e.exports=function(t){return this.__data__.has(t)}},{}],89:[function(t,e,r){e.exports=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}},{}],90:[function(t,e,r){var n=t("./_ListCache");e.exports=function(){this.__data__=new n,this.size=0}},{"./_ListCache":4}],91:[function(t,e,r){e.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},{}],92:[function(t,e,r){e.exports=function(t){return this.__data__.get(t)}},{}],93:[function(t,e,r){e.exports=function(t){return this.__data__.has(t)}},{}],94:[function(t,e,r){var n=t("./_ListCache"),o=t("./_Map"),i=t("./_MapCache"),a=200;e.exports=function(t,e){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!o||s.length<a-1)return s.push([t,e]),this.size=++r.size,this;r=this.__data__=new i(s)}return r.set(t,e),this.size=r.size,this}},{"./_ListCache":4,"./_Map":5,"./_MapCache":6}],95:[function(t,e,r){var n=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=t("./_memoizeCapped")(function(t){var e=[];return n.test(t)&&e.push(""),t.replace(o,function(t,r,n,o){e.push(n?o.replace(i,"$1"):r||t)}),e});e.exports=a},{"./_memoizeCapped":80}],96:[function(t,e,r){var n=t("./isSymbol"),o=1/0;e.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}},{"./isSymbol":113}],97:[function(t,e,r){var n=Function.prototype.toString;e.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},{}],98:[function(t,e,r){var n=t("./isObject"),o=t("./now"),i=t("./toNumber"),a="Expected a function",s=Math.max,c=Math.min;e.exports=function(t,e,r){var u,f,l,p,_,h,y=0,d=!1,v=!1,g=!0;if("function"!=typeof t)throw new TypeError(a);e=i(e)||0,n(r)&&(d=!!r.leading,l=(v="maxWait"in r)?s(i(r.maxWait)||0,e):l,g="trailing"in r?!!r.trailing:g);function b(e){var r=u,n=f;return u=f=void 0,y=e,p=t.apply(n,r)}function m(t){var r=t-h;return void 0===h||r>=e||r<0||v&&t-y>=l}function x(){var t=o();if(m(t))return j(t);_=setTimeout(x,function(t){var r=e-(t-h);return v?c(r,l-(t-y)):r}(t))}function j(t){return _=void 0,g&&u?b(t):(u=f=void 0,p)}function C(){var t=o(),r=m(t);if(u=arguments,f=this,h=t,r){if(void 0===_)return y=n=h,_=setTimeout(x,e),d?b(n):p;if(v)return _=setTimeout(x,e),b(h)}var n;return void 0===_&&(_=setTimeout(x,e)),p}return C.cancel=function(){void 0!==_&&clearTimeout(_),y=0,u=h=f=_=void 0},C.flush=function(){return void 0===_?p:j(o())},C}},{"./isObject":111,"./now":117,"./toNumber":124}],99:[function(t,e,r){e.exports=function(t,e){return t===e||t!=t&&e!=e}},{}],100:[function(t,e,r){var n=t("./_createFind")(t("./findIndex"));e.exports=n},{"./_createFind":43,"./findIndex":101}],101:[function(t,e,r){var n=t("./_baseFindIndex"),o=t("./_baseIteratee"),i=t("./toInteger"),a=Math.max;e.exports=function(t,e,r){var s=null==t?0:t.length;if(!s)return-1;var c=null==r?0:i(r);return c<0&&(c=a(s+c,0)),n(t,o(e,3),c)}},{"./_baseFindIndex":20,"./_baseIteratee":31,"./toInteger":123}],102:[function(t,e,r){var n=t("./_baseGet");e.exports=function(t,e,r){var o=null==t?void 0:n(t,e);return void 0===o?r:o}},{"./_baseGet":21}],103:[function(t,e,r){var n=t("./_baseHasIn"),o=t("./_hasPath");e.exports=function(t,e){return null!=t&&o(t,e,n)}},{"./_baseHasIn":24,"./_hasPath":56}],104:[function(t,e,r){e.exports=function(t){return t}},{}],105:[function(t,e,r){var n=t("./_baseIsArguments"),o=t("./isObjectLike"),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(t){return o(t)&&a.call(t,"callee")&&!s.call(t,"callee")};e.exports=c},{"./_baseIsArguments":25,"./isObjectLike":112}],106:[function(t,e,r){var n=Array.isArray;e.exports=n},{}],107:[function(t,e,r){var n=t("./isFunction"),o=t("./isLength");e.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},{"./isFunction":109,"./isLength":110}],108:[function(t,e,r){var n=t("./_root"),o=t("./stubFalse"),i="object"==typeof r&&r&&!r.nodeType&&r,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?n.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;e.exports=c},{"./_root":86,"./stubFalse":120}],109:[function(t,e,r){var n=t("./_baseGetTag"),o=t("./isObject"),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(t){if(!o(t))return!1;var e=n(t);return e==a||e==s||e==i||e==c}},{"./_baseGetTag":23,"./isObject":111}],110:[function(t,e,r){var n=9007199254740991;e.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},{}],111:[function(t,e,r){e.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},{}],112:[function(t,e,r){e.exports=function(t){return null!=t&&"object"==typeof t}},{}],113:[function(t,e,r){var n=t("./_baseGetTag"),o=t("./isObjectLike"),i="[object Symbol]";e.exports=function(t){return"symbol"==typeof t||o(t)&&n(t)==i}},{"./_baseGetTag":23,"./isObjectLike":112}],114:[function(t,e,r){var n=t("./_baseIsTypedArray"),o=t("./_baseUnary"),i=t("./_nodeUtil"),a=i&&i.isTypedArray,s=a?o(a):n;e.exports=s},{"./_baseIsTypedArray":30,"./_baseUnary":39,"./_nodeUtil":83}],115:[function(t,e,r){var n=t("./_arrayLikeKeys"),o=t("./_baseKeys"),i=t("./isArrayLike");e.exports=function(t){return i(t)?n(t):o(t)}},{"./_arrayLikeKeys":15,"./_baseKeys":32,"./isArrayLike":107}],116:[function(t,e,r){var n=t("./_MapCache"),o="Expected a function";function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(i.Cache||n),r}i.Cache=n,e.exports=i},{"./_MapCache":6}],117:[function(t,e,r){var n=t("./_root");e.exports=function(){return n.Date.now()}},{"./_root":86}],118:[function(t,e,r){var n=t("./_baseProperty"),o=t("./_basePropertyDeep"),i=t("./_isKey"),a=t("./_toKey");e.exports=function(t){return i(t)?n(a(t)):o(t)}},{"./_baseProperty":35,"./_basePropertyDeep":36,"./_isKey":63,"./_toKey":96}],119:[function(t,e,r){e.exports=function(){return[]}},{}],120:[function(t,e,r){e.exports=function(){return!1}},{}],121:[function(t,e,r){var n=t("./debounce"),o=t("./isObject"),i="Expected a function";e.exports=function(t,e,r){var a=!0,s=!0;if("function"!=typeof t)throw new TypeError(i);return o(r)&&(a="leading"in r?!!r.leading:a,s="trailing"in r?!!r.trailing:s),n(t,e,{leading:a,maxWait:e,trailing:s})}},{"./debounce":98,"./isObject":111}],122:[function(t,e,r){var n=t("./toNumber"),o=1/0,i=1.7976931348623157e308;e.exports=function(t){if(!t)return 0===t?t:0;if((t=n(t))===o||t===-o)return(t<0?-1:1)*i;return t==t?t:0}},{"./toNumber":124}],123:[function(t,e,r){var n=t("./toFinite");e.exports=function(t){var e=n(t),r=e%1;return e==e?r?e-r:e:0}},{"./toFinite":122}],124:[function(t,e,r){var n=t("./isObject"),o=t("./isSymbol"),i=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,f=parseInt;e.exports=function(t){if("number"==typeof t)return t;if(o(t))return i;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var r=c.test(t);return r||u.test(t)?f(t.slice(2),r?2:8):s.test(t)?i:+t}},{"./isObject":111,"./isSymbol":113}],125:[function(t,e,r){var n=t("./_baseToString");e.exports=function(t){return null==t?"":n(t)}},{"./_baseToString":38}],126:[function(t,e,r){"use strict";var n=s(t("../config")),o=s(t("./utils/getCentroid")),i=(s(t("lodash/debounce")),s(t("lodash/throttle"))),a=s(t("lodash/find"));function s(t){return t&&t.__esModule?t:{default:t}}!function(t,r,s,c){var u={data:null,throttleSpeed:500,mapboxConfig:{container:"scrollmap",style:"mapbox://styles/aosika/cj8tmsx9cdk3m2rqmxbq8gr1b"},mapConfig:{offset:0,center:{mobile:[0,0],desktop:[0,0]},zoom:{mobile:1,desktop:1}},markerConfig:{color:"#FFF",fontSize:"1.6rem",dimensions:{width:"45px",height:"60px"},images:{default:"/images/map-marker.png",active:"/images/map-marker-active.png"}}},f=function(e){this.options=t.extend(!0,u,e),this.init(),this.controller={afterMapInstantiation:function(t){this.loaded(t)}}};f.prototype={map:null,activeId:null,currentActiveId:null,allowPan:!0,isScrolling:!1,isMobile:!0,mapOffset:null,isToggled:!1,geometryType:null,findGeometryType:function(){this.geometryType=this.options.geojson.features[0].geometry.type.toLowerCase()},init:function(){this.findGeometryType(),this.checkScreenSize(),this.initWindowResizeEvent(),this.assignDynaMap(),this.getMapHeight(),this.instantiateMap(),this.initToggleEvent()},assignDynaMap:function(){this.isMobile?(this.options.mapboxConfig.center=this.options.mapConfig.center.mobile,this.options.mapboxConfig.zoom=this.options.mapConfig.zoom.mobile):(this.options.mapboxConfig.center=this.options.mapConfig.center.desktop,this.options.mapboxConfig.zoom=this.options.mapConfig.zoom.desktop)},instantiateMap:function(){var t=this,e=void 0;mapboxgl.accessToken=n.default.mapboxAccessToken,(e=new mapboxgl.Map(this.options.mapboxConfig)).scrollZoom.disable(),e.addControl(new mapboxgl.NavigationControl,"top-right"),this.map=e,new Promise(function(e,r){t.map.on("load",t.mapLoad.bind(t,e))}).then(this.afterMapLoad.bind(this,this.map))},mapLoad:function(t){var e=this;t(),"point"===this.geometryType?(console.log("point"),this.options.geojson.features.forEach(function(t,r){e.generateMarker(t,r)})):"polygon"===this.geometryType&&(console.log("polygon"),this.options.geojson.features.forEach(function(t,r){t.geometry.center=(0,o.default)(t.geometry.coordinates[0]),e.generatePolygon(t,r)}))},afterMapLoad:function(t){this.controller.afterMapInstantiation(t),this.scrollHandler(),this.addScrollListener(),this.initMarkerClickEvent()},scrollHandler:function(){if(!this.isScrolling&&!this.isToggled){for(var t=0;t<this.options.geojson.features.length;t++){var e=s.querySelectorAll(".scrollmap-pane")[t];if(this.isElementOnScreen(e)){this.activeId=e.dataset.id;break}if(0===r.scrollY){this.resetScrollmap();break}}"point"===this.geometryType?this.highlightActiveMarker(this.activeId):"polygon"===this.geometryType&&this.highlightActivePolygon(this.activeId)}},resetScrollmap:function(){var t=this;if("point"===this.geometryType)for(var e=s.querySelectorAll(".marker-img"),r=s.querySelectorAll(".marker"),n=0;n<e.length;n++)e[n].style.opacity=.5,e[n].style.backgroundImage="url("+this.options.markerConfig.images.default+")",r[n].style.zIndex=10-n;else"polygon"===this.geometryType&&this.options.geojson.features.forEach(function(e,r){t.map.setPaintProperty(e.properties.name.toLowerCase(),"fill-opacity",.1)});this.map.setZoom(u.mapboxConfig.zoom),this.map.panTo(u.mapboxConfig.center),this.currentActiveId=this.activeId=null},checkScreenSize:function(){r.innerWidth>760?this.isMobile=!1:this.isMobile=!0},initWindowResizeEvent:function(){var e=this;t(r).on("resize.scrollmap",function(){e.checkScreenSize(),e.isToggled&&e.toggleMap()})},getMapHeight:function(){var t=s.querySelector(".scrollmap-map"),e=r.getComputedStyle(t).getPropertyValue("height");this.mapOffset=parseInt(e)},highlightActiveMarker:function(e){var r=this;if(this.currentActiveId!==e){for(var n=s.querySelectorAll(".marker-img"),o=s.querySelectorAll(".marker"),i=0;i<n.length;i++)n[i].style.opacity=.5,n[i].style.backgroundImage="url("+this.options.markerConfig.images.default+")",o[i].style.zIndex=10-i;t(".marker[data-id="+e+"]").css({"z-index":1e3}),t(".marker[data-id="+e+"]").find(".marker-img").css({opacity:1,"background-image":"url("+this.options.markerConfig.images.active+")"}),(0,a.default)(this.options.geojson.features,function(t){t.properties.id===e&&r.panHandler(t.geometry.coordinates)})}this.currentActiveId=e},highlightActivePolygon:function(t){var e=this;this.currentActiveId!==t&&(0,a.default)(this.options.geojson.features,function(t){e.map.setPaintProperty(t.properties.name.toLowerCase(),"fill-opacity",.1),e.activeId===t.properties.name.toLowerCase()&&(e.map.setPaintProperty(e.activeId,"fill-opacity",1),e.panHandler(t.geometry.center))}),this.currentActiveId=t},addScrollListener:function(){r.addEventListener("scroll",(0,i.default)(this.scrollHandler.bind(this),this.options.throttleSpeed),!0)},panHandler:function(t){this.map.panTo(t)},isElementOnScreen:function(e){var n=e.getBoundingClientRect();return this.isMobile?r.scrollY>n.top&&n.top<r.innerHeight&&n.bottom-this.options.mapConfig.offset-parseInt(t(".scrollmap-content").css("margin-top"))>0:r.scrollY>n.top&&n.top<r.innerHeight&&n.bottom-this.options.mapConfig.offset>0},generateMarker:function(t,e){var r=s.createElement("div");r.className="marker",r.style.width=this.options.markerConfig.dimensions.width,r.style.height=this.options.markerConfig.dimensions.height,r.style.zIndex=10-e,r.dataset.id=t.properties.id;var n=r.appendChild(s.createElement("div"));n.className="marker-img",n.style.position="absolute",n.style.width="100%",n.style.height="100%",n.dataset.id=t.properties.id;var o=r.appendChild(s.createElement("div"));o.style.position="relative",o.style.top="-"+parseFloat(this.options.markerConfig.fontSize)/4+"rem",o.style.color=this.options.markerConfig.color,o.style.display="flex",o.style.alignItems="center",o.style.justifyContent="center",o.style.width="100%",o.style.height="100%",o.style.zIndex="1",o.style.fontSize=this.options.markerConfig.fontSize,o.dataset.id=t.properties.id;var i=s.createTextNode(e+1);o.appendChild(i);new mapboxgl.Marker(r,{offset:[-parseInt(this.options.markerConfig.dimensions.width)/10,-parseInt(this.options.markerConfig.dimensions.height)/2]}).setLngLat(t.geometry.coordinates).addTo(this.map)},initMarkerClickEvent:function(){var e=this;t("#scrollmap").on("click",".marker",function(t){e.isToggled?(e.toggleMap(),r.setTimeout(function(){e.scrollMap(t)},200)):e.scrollMap(t)})},generatePolygon:function(t,e){var r=void 0;(0,a.default)(this.options.geoinfo.features,function(e){e.id===t.properties.name.toLowerCase()&&(r=e.fill)}),this.map.addLayer({id:t.properties.name.toLowerCase(),type:"fill",source:{type:"geojson",data:t},paint:{"fill-color":r,"fill-opacity":.1}},"water")},scrollMap:function(e){var r=this,n=e.currentTarget.dataset.id;this.activeId=n,"point"===this.geometryType?this.highlightActiveMarker(this.activeId):"polygon"===this.geometryType&&this.highlightActivePolygon(this.activeId);var o=t(".scrollmap-pane[data-id="+n+"]")[0].offsetTop-24;this.isScrolling=!0,t("html").animate({scrollTop:o},function(){r.isScrolling=!1})},initToggleEvent:function(){t(".scrollmap__toggle-map").on("click",this.toggleMap.bind(this))},toggleMap:function(){this.isToggled?(t(".scrollmap-controls").removeClass("is-toggled"),t(".scrollmap-map, .scrollmap-content, .scrollmap-controls").removeAttr("style"),this.isToggled=!1):(t(".scrollmap-controls").addClass("is-toggled"),t(".scrollmap-map").css("height","100%"),t(".scrollmap-content").css("display","none"),t(".scrollmap-controls").css({position:"fixed",top:"auto",bottom:0}),this.isToggled=!0),this.map.resize()}},e.exports=f}(jQuery,window,document)},{"../config":1,"./utils/getCentroid":127,"lodash/debounce":98,"lodash/find":100,"lodash/throttle":121}],127:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){for(var e=0,r=0,n=0,o=t.length,i=function(e){return t[e%o][0]},a=function(e){return t[e%o][1]},s=0;s<t.length;s++){var c=i(s)*a(s+1)-i(s+1)*a(s);e+=c,r+=(i(s)+i(s+1))*c,n+=(a(s)+a(s+1))*c}var u=3*e;return[r/u,n/u]}},{}]},{},[126])(126)});
//# sourceMappingURL=scrollmap.min.js.map
