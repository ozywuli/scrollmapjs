!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Scrollmap=t()}}(function(){return function t(e,r,n){function o(i,s){if(!r[i]){if(!e[i]){var c="function"==typeof require&&require;if(!s&&c)return c(i,!0);if(a)return a(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var f=r[i]={exports:{}};e[i][0].call(f.exports,function(t){var r=e[i][1][t];return o(r||t)},f,f.exports,t,e,r,n)}return r[i].exports}for(var a="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default={mapboxAccessToken:"pk.eyJ1IjoiYW9zaWthIiwiYSI6IjQzRGIxeEkifQ.7OvmyBbXwwt9Qxjlh9Qd3w"}},{}],2:[function(t,e,r){var n=t("./_getNative")(t("./_root"),"DataView");e.exports=n},{"./_getNative":51,"./_root":86}],3:[function(t,e,r){function n(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}var o=t("./_hashClear"),a=t("./_hashDelete"),i=t("./_hashGet"),s=t("./_hashHas"),c=t("./_hashSet");n.prototype.clear=o,n.prototype.delete=a,n.prototype.get=i,n.prototype.has=s,n.prototype.set=c,e.exports=n},{"./_hashClear":57,"./_hashDelete":58,"./_hashGet":59,"./_hashHas":60,"./_hashSet":61}],4:[function(t,e,r){function n(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}var o=t("./_listCacheClear"),a=t("./_listCacheDelete"),i=t("./_listCacheGet"),s=t("./_listCacheHas"),c=t("./_listCacheSet");n.prototype.clear=o,n.prototype.delete=a,n.prototype.get=i,n.prototype.has=s,n.prototype.set=c,e.exports=n},{"./_listCacheClear":68,"./_listCacheDelete":69,"./_listCacheGet":70,"./_listCacheHas":71,"./_listCacheSet":72}],5:[function(t,e,r){var n=t("./_getNative")(t("./_root"),"Map");e.exports=n},{"./_getNative":51,"./_root":86}],6:[function(t,e,r){function n(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}var o=t("./_mapCacheClear"),a=t("./_mapCacheDelete"),i=t("./_mapCacheGet"),s=t("./_mapCacheHas"),c=t("./_mapCacheSet");n.prototype.clear=o,n.prototype.delete=a,n.prototype.get=i,n.prototype.has=s,n.prototype.set=c,e.exports=n},{"./_mapCacheClear":73,"./_mapCacheDelete":74,"./_mapCacheGet":75,"./_mapCacheHas":76,"./_mapCacheSet":77}],7:[function(t,e,r){var n=t("./_getNative")(t("./_root"),"Promise");e.exports=n},{"./_getNative":51,"./_root":86}],8:[function(t,e,r){var n=t("./_getNative")(t("./_root"),"Set");e.exports=n},{"./_getNative":51,"./_root":86}],9:[function(t,e,r){function n(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new o;++e<r;)this.add(t[e])}var o=t("./_MapCache"),a=t("./_setCacheAdd"),i=t("./_setCacheHas");n.prototype.add=n.prototype.push=a,n.prototype.has=i,e.exports=n},{"./_MapCache":6,"./_setCacheAdd":87,"./_setCacheHas":88}],10:[function(t,e,r){function n(t){var e=this.__data__=new o(t);this.size=e.size}var o=t("./_ListCache"),a=t("./_stackClear"),i=t("./_stackDelete"),s=t("./_stackGet"),c=t("./_stackHas"),u=t("./_stackSet");n.prototype.clear=a,n.prototype.delete=i,n.prototype.get=s,n.prototype.has=c,n.prototype.set=u,e.exports=n},{"./_ListCache":4,"./_stackClear":90,"./_stackDelete":91,"./_stackGet":92,"./_stackHas":93,"./_stackSet":94}],11:[function(t,e,r){var n=t("./_root").Symbol;e.exports=n},{"./_root":86}],12:[function(t,e,r){var n=t("./_root").Uint8Array;e.exports=n},{"./_root":86}],13:[function(t,e,r){var n=t("./_getNative")(t("./_root"),"WeakMap");e.exports=n},{"./_getNative":51,"./_root":86}],14:[function(t,e,r){e.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,a=[];++r<n;){var i=t[r];e(i,r,t)&&(a[o++]=i)}return a}},{}],15:[function(t,e,r){var n=t("./_baseTimes"),o=t("./isArguments"),a=t("./isArray"),i=t("./isBuffer"),s=t("./_isIndex"),c=t("./isTypedArray"),u=Object.prototype.hasOwnProperty;e.exports=function(t,e){var r=a(t),f=!r&&o(t),l=!r&&!f&&i(t),p=!r&&!f&&!l&&c(t),_=r||f||l||p,h=_?n(t.length,String):[],v=h.length;for(var y in t)!e&&!u.call(t,y)||_&&("length"==y||l&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,v))||h.push(y);return h}},{"./_baseTimes":37,"./_isIndex":62,"./isArguments":105,"./isArray":106,"./isBuffer":108,"./isTypedArray":114}],16:[function(t,e,r){e.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},{}],17:[function(t,e,r){e.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}},{}],18:[function(t,e,r){e.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},{}],19:[function(t,e,r){var n=t("./eq");e.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},{"./eq":99}],20:[function(t,e,r){e.exports=function(t,e,r,n){for(var o=t.length,a=r+(n?1:-1);n?a--:++a<o;)if(e(t[a],a,t))return a;return-1}},{}],21:[function(t,e,r){var n=t("./_castPath"),o=t("./_toKey");e.exports=function(t,e){for(var r=0,a=(e=n(e,t)).length;null!=t&&r<a;)t=t[o(e[r++])];return r&&r==a?t:void 0}},{"./_castPath":41,"./_toKey":96}],22:[function(t,e,r){var n=t("./_arrayPush"),o=t("./isArray");e.exports=function(t,e,r){var a=e(t);return o(t)?a:n(a,r(t))}},{"./_arrayPush":17,"./isArray":106}],23:[function(t,e,r){var n=t("./_Symbol"),o=t("./_getRawTag"),a=t("./_objectToString"),i="[object Null]",s="[object Undefined]",c=n?n.toStringTag:void 0;e.exports=function(t){return null==t?void 0===t?s:i:c&&c in Object(t)?o(t):a(t)}},{"./_Symbol":11,"./_getRawTag":52,"./_objectToString":84}],24:[function(t,e,r){e.exports=function(t,e){return null!=t&&e in Object(t)}},{}],25:[function(t,e,r){var n=t("./_baseGetTag"),o=t("./isObjectLike"),a="[object Arguments]";e.exports=function(t){return o(t)&&n(t)==a}},{"./_baseGetTag":23,"./isObjectLike":112}],26:[function(t,e,r){function n(t,e,r,i,s){return t===e||(null==t||null==e||!a(t)&&!a(e)?t!=t&&e!=e:o(t,e,r,i,n,s))}var o=t("./_baseIsEqualDeep"),a=t("./isObjectLike");e.exports=n},{"./_baseIsEqualDeep":27,"./isObjectLike":112}],27:[function(t,e,r){var n=t("./_Stack"),o=t("./_equalArrays"),a=t("./_equalByTag"),i=t("./_equalObjects"),s=t("./_getTag"),c=t("./isArray"),u=t("./isBuffer"),f=t("./isTypedArray"),l=1,p="[object Arguments]",_="[object Array]",h="[object Object]",v=Object.prototype.hasOwnProperty;e.exports=function(t,e,r,y,d,b){var g=c(t),m=c(e),x=g?_:s(t),j=m?_:s(e),S=(x=x==p?h:x)==h,k=(j=j==p?h:j)==h,A=x==j;if(A&&u(t)){if(!u(e))return!1;g=!0,S=!1}if(A&&!S)return b||(b=new n),g||f(t)?o(t,e,r,y,d,b):a(t,e,x,r,y,d,b);if(!(r&l)){var C=S&&v.call(t,"__wrapped__"),O=k&&v.call(e,"__wrapped__");if(C||O){var w=C?t.value():t,M=O?e.value():e;return b||(b=new n),d(w,M,r,y,b)}}return!!A&&(b||(b=new n),i(t,e,r,y,d,b))}},{"./_Stack":10,"./_equalArrays":44,"./_equalByTag":45,"./_equalObjects":46,"./_getTag":54,"./isArray":106,"./isBuffer":108,"./isTypedArray":114}],28:[function(t,e,r){var n=t("./_Stack"),o=t("./_baseIsEqual"),a=1,i=2;e.exports=function(t,e,r,s){var c=r.length,u=c,f=!s;if(null==t)return!u;for(t=Object(t);c--;){var l=r[c];if(f&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++c<u;){var p=(l=r[c])[0],_=t[p],h=l[1];if(f&&l[2]){if(void 0===_&&!(p in t))return!1}else{var v=new n;if(s)var y=s(_,h,p,t,e,v);if(!(void 0===y?o(h,_,a|i,s,v):y))return!1}}return!0}},{"./_Stack":10,"./_baseIsEqual":26}],29:[function(t,e,r){var n=t("./isFunction"),o=t("./_isMasked"),a=t("./isObject"),i=t("./_toSource"),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,f=c.toString,l=u.hasOwnProperty,p=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(t){return!(!a(t)||o(t))&&(n(t)?p:s).test(i(t))}},{"./_isMasked":65,"./_toSource":97,"./isFunction":109,"./isObject":111}],30:[function(t,e,r){var n=t("./_baseGetTag"),o=t("./isLength"),a=t("./isObjectLike"),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(t){return a(t)&&o(t.length)&&!!i[n(t)]}},{"./_baseGetTag":23,"./isLength":110,"./isObjectLike":112}],31:[function(t,e,r){var n=t("./_baseMatches"),o=t("./_baseMatchesProperty"),a=t("./identity"),i=t("./isArray"),s=t("./property");e.exports=function(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?i(t)?o(t[0],t[1]):n(t):s(t)}},{"./_baseMatches":33,"./_baseMatchesProperty":34,"./identity":104,"./isArray":106,"./property":118}],32:[function(t,e,r){var n=t("./_isPrototype"),o=t("./_nativeKeys"),a=Object.prototype.hasOwnProperty;e.exports=function(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))a.call(t,r)&&"constructor"!=r&&e.push(r);return e}},{"./_isPrototype":66,"./_nativeKeys":82}],33:[function(t,e,r){var n=t("./_baseIsMatch"),o=t("./_getMatchData"),a=t("./_matchesStrictComparable");e.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},{"./_baseIsMatch":28,"./_getMatchData":50,"./_matchesStrictComparable":79}],34:[function(t,e,r){var n=t("./_baseIsEqual"),o=t("./get"),a=t("./hasIn"),i=t("./_isKey"),s=t("./_isStrictComparable"),c=t("./_matchesStrictComparable"),u=t("./_toKey"),f=1,l=2;e.exports=function(t,e){return i(t)&&s(e)?c(u(t),e):function(r){var i=o(r,t);return void 0===i&&i===e?a(r,t):n(e,i,f|l)}}},{"./_baseIsEqual":26,"./_isKey":63,"./_isStrictComparable":67,"./_matchesStrictComparable":79,"./_toKey":96,"./get":102,"./hasIn":103}],35:[function(t,e,r){e.exports=function(t){return function(e){return null==e?void 0:e[t]}}},{}],36:[function(t,e,r){var n=t("./_baseGet");e.exports=function(t){return function(e){return n(e,t)}}},{"./_baseGet":21}],37:[function(t,e,r){e.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},{}],38:[function(t,e,r){function n(t){if("string"==typeof t)return t;if(i(t))return a(t,n)+"";if(s(t))return f?f.call(t):"";var e=t+"";return"0"==e&&1/t==-c?"-0":e}var o=t("./_Symbol"),a=t("./_arrayMap"),i=t("./isArray"),s=t("./isSymbol"),c=1/0,u=o?o.prototype:void 0,f=u?u.toString:void 0;e.exports=n},{"./_Symbol":11,"./_arrayMap":16,"./isArray":106,"./isSymbol":113}],39:[function(t,e,r){e.exports=function(t){return function(e){return t(e)}}},{}],40:[function(t,e,r){e.exports=function(t,e){return t.has(e)}},{}],41:[function(t,e,r){var n=t("./isArray"),o=t("./_isKey"),a=t("./_stringToPath"),i=t("./toString");e.exports=function(t,e){return n(t)?t:o(t,e)?[t]:a(i(t))}},{"./_isKey":63,"./_stringToPath":95,"./isArray":106,"./toString":124}],42:[function(t,e,r){var n=t("./_root")["__core-js_shared__"];e.exports=n},{"./_root":86}],43:[function(t,e,r){var n=t("./_baseIteratee"),o=t("./isArrayLike"),a=t("./keys");e.exports=function(t){return function(e,r,i){var s=Object(e);if(!o(e)){var c=n(r,3);e=a(e),r=function(t){return c(s[t],t,s)}}var u=t(e,r,i);return u>-1?s[c?e[u]:u]:void 0}}},{"./_baseIteratee":31,"./isArrayLike":107,"./keys":115}],44:[function(t,e,r){var n=t("./_SetCache"),o=t("./_arraySome"),a=t("./_cacheHas"),i=1,s=2;e.exports=function(t,e,r,c,u,f){var l=r&i,p=t.length,_=e.length;if(p!=_&&!(l&&_>p))return!1;var h=f.get(t);if(h&&f.get(e))return h==e;var v=-1,y=!0,d=r&s?new n:void 0;for(f.set(t,e),f.set(e,t);++v<p;){var b=t[v],g=e[v];if(c)var m=l?c(g,b,v,e,t,f):c(b,g,v,t,e,f);if(void 0!==m){if(m)continue;y=!1;break}if(d){if(!o(e,function(t,e){if(!a(d,e)&&(b===t||u(b,t,r,c,f)))return d.push(e)})){y=!1;break}}else if(b!==g&&!u(b,g,r,c,f)){y=!1;break}}return f.delete(t),f.delete(e),y}},{"./_SetCache":9,"./_arraySome":18,"./_cacheHas":40}],45:[function(t,e,r){var n=t("./_Symbol"),o=t("./_Uint8Array"),a=t("./eq"),i=t("./_equalArrays"),s=t("./_mapToArray"),c=t("./_setToArray"),u=1,f=2,l="[object Boolean]",p="[object Date]",_="[object Error]",h="[object Map]",v="[object Number]",y="[object RegExp]",d="[object Set]",b="[object String]",g="[object Symbol]",m="[object ArrayBuffer]",x="[object DataView]",j=n?n.prototype:void 0,S=j?j.valueOf:void 0;e.exports=function(t,e,r,n,j,k,A){switch(r){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case m:return!(t.byteLength!=e.byteLength||!k(new o(t),new o(e)));case l:case p:case v:return a(+t,+e);case _:return t.name==e.name&&t.message==e.message;case y:case b:return t==e+"";case h:var C=s;case d:var O=n&u;if(C||(C=c),t.size!=e.size&&!O)return!1;var w=A.get(t);if(w)return w==e;n|=f,A.set(t,e);var M=i(C(t),C(e),n,j,k,A);return A.delete(t),M;case g:if(S)return S.call(t)==S.call(e)}return!1}},{"./_Symbol":11,"./_Uint8Array":12,"./_equalArrays":44,"./_mapToArray":78,"./_setToArray":89,"./eq":99}],46:[function(t,e,r){var n=t("./_getAllKeys"),o=1,a=Object.prototype.hasOwnProperty;e.exports=function(t,e,r,i,s,c){var u=r&o,f=n(t),l=f.length;if(l!=n(e).length&&!u)return!1;for(var p=l;p--;){var _=f[p];if(!(u?_ in e:a.call(e,_)))return!1}var h=c.get(t);if(h&&c.get(e))return h==e;var v=!0;c.set(t,e),c.set(e,t);for(var y=u;++p<l;){var d=t[_=f[p]],b=e[_];if(i)var g=u?i(b,d,_,e,t,c):i(d,b,_,t,e,c);if(!(void 0===g?d===b||s(d,b,r,i,c):g)){v=!1;break}y||(y="constructor"==_)}if(v&&!y){var m=t.constructor,x=e.constructor;m!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof x&&x instanceof x)&&(v=!1)}return c.delete(t),c.delete(e),v}},{"./_getAllKeys":48}],47:[function(t,e,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],48:[function(t,e,r){var n=t("./_baseGetAllKeys"),o=t("./_getSymbols"),a=t("./keys");e.exports=function(t){return n(t,a,o)}},{"./_baseGetAllKeys":22,"./_getSymbols":53,"./keys":115}],49:[function(t,e,r){var n=t("./_isKeyable");e.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},{"./_isKeyable":64}],50:[function(t,e,r){var n=t("./_isStrictComparable"),o=t("./keys");e.exports=function(t){for(var e=o(t),r=e.length;r--;){var a=e[r],i=t[a];e[r]=[a,i,n(i)]}return e}},{"./_isStrictComparable":67,"./keys":115}],51:[function(t,e,r){var n=t("./_baseIsNative"),o=t("./_getValue");e.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},{"./_baseIsNative":29,"./_getValue":55}],52:[function(t,e,r){var n=t("./_Symbol"),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,s=n?n.toStringTag:void 0;e.exports=function(t){var e=a.call(t,s),r=t[s];try{t[s]=void 0;var n=!0}catch(t){}var o=i.call(t);return n&&(e?t[s]=r:delete t[s]),o}},{"./_Symbol":11}],53:[function(t,e,r){var n=t("./_arrayFilter"),o=t("./stubArray"),a=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(t){return null==t?[]:(t=Object(t),n(i(t),function(e){return a.call(t,e)}))}:o;e.exports=s},{"./_arrayFilter":14,"./stubArray":119}],54:[function(t,e,r){var n=t("./_DataView"),o=t("./_Map"),a=t("./_Promise"),i=t("./_Set"),s=t("./_WeakMap"),c=t("./_baseGetTag"),u=t("./_toSource"),f=u(n),l=u(o),p=u(a),_=u(i),h=u(s),v=c;(n&&"[object DataView]"!=v(new n(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||a&&"[object Promise]"!=v(a.resolve())||i&&"[object Set]"!=v(new i)||s&&"[object WeakMap]"!=v(new s))&&(v=function(t){var e=c(t),r="[object Object]"==e?t.constructor:void 0,n=r?u(r):"";if(n)switch(n){case f:return"[object DataView]";case l:return"[object Map]";case p:return"[object Promise]";case _:return"[object Set]";case h:return"[object WeakMap]"}return e}),e.exports=v},{"./_DataView":2,"./_Map":5,"./_Promise":7,"./_Set":8,"./_WeakMap":13,"./_baseGetTag":23,"./_toSource":97}],55:[function(t,e,r){e.exports=function(t,e){return null==t?void 0:t[e]}},{}],56:[function(t,e,r){var n=t("./_castPath"),o=t("./isArguments"),a=t("./isArray"),i=t("./_isIndex"),s=t("./isLength"),c=t("./_toKey");e.exports=function(t,e,r){for(var u=-1,f=(e=n(e,t)).length,l=!1;++u<f;){var p=c(e[u]);if(!(l=null!=t&&r(t,p)))break;t=t[p]}return l||++u!=f?l:!!(f=null==t?0:t.length)&&s(f)&&i(p,f)&&(a(t)||o(t))}},{"./_castPath":41,"./_isIndex":62,"./_toKey":96,"./isArguments":105,"./isArray":106,"./isLength":110}],57:[function(t,e,r){var n=t("./_nativeCreate");e.exports=function(){this.__data__=n?n(null):{},this.size=0}},{"./_nativeCreate":81}],58:[function(t,e,r){e.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},{}],59:[function(t,e,r){var n=t("./_nativeCreate"),o="__lodash_hash_undefined__",a=Object.prototype.hasOwnProperty;e.exports=function(t){var e=this.__data__;if(n){var r=e[t];return r===o?void 0:r}return a.call(e,t)?e[t]:void 0}},{"./_nativeCreate":81}],60:[function(t,e,r){var n=t("./_nativeCreate"),o=Object.prototype.hasOwnProperty;e.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},{"./_nativeCreate":81}],61:[function(t,e,r){var n=t("./_nativeCreate"),o="__lodash_hash_undefined__";e.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?o:e,this}},{"./_nativeCreate":81}],62:[function(t,e,r){var n=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=function(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||o.test(t))&&t>-1&&t%1==0&&t<e}},{}],63:[function(t,e,r){var n=t("./isArray"),o=t("./isSymbol"),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!o(t))||i.test(t)||!a.test(t)||null!=e&&t in Object(e)}},{"./isArray":106,"./isSymbol":113}],64:[function(t,e,r){e.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},{}],65:[function(t,e,r){var n=t("./_coreJsData"),o=function(){var t=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();e.exports=function(t){return!!o&&o in t}},{"./_coreJsData":42}],66:[function(t,e,r){var n=Object.prototype;e.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},{}],67:[function(t,e,r){var n=t("./isObject");e.exports=function(t){return t==t&&!n(t)}},{"./isObject":111}],68:[function(t,e,r){e.exports=function(){this.__data__=[],this.size=0}},{}],69:[function(t,e,r){var n=t("./_assocIndexOf"),o=Array.prototype.splice;e.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0||(r==e.length-1?e.pop():o.call(e,r,1),--this.size,0))}},{"./_assocIndexOf":19}],70:[function(t,e,r){var n=t("./_assocIndexOf");e.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},{"./_assocIndexOf":19}],71:[function(t,e,r){var n=t("./_assocIndexOf");e.exports=function(t){return n(this.__data__,t)>-1}},{"./_assocIndexOf":19}],72:[function(t,e,r){var n=t("./_assocIndexOf");e.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},{"./_assocIndexOf":19}],73:[function(t,e,r){var n=t("./_Hash"),o=t("./_ListCache"),a=t("./_Map");e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||o),string:new n}}},{"./_Hash":3,"./_ListCache":4,"./_Map":5}],74:[function(t,e,r){var n=t("./_getMapData");e.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},{"./_getMapData":49}],75:[function(t,e,r){var n=t("./_getMapData");e.exports=function(t){return n(this,t).get(t)}},{"./_getMapData":49}],76:[function(t,e,r){var n=t("./_getMapData");e.exports=function(t){return n(this,t).has(t)}},{"./_getMapData":49}],77:[function(t,e,r){var n=t("./_getMapData");e.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},{"./_getMapData":49}],78:[function(t,e,r){e.exports=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}},{}],79:[function(t,e,r){e.exports=function(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}}},{}],80:[function(t,e,r){var n=t("./memoize"),o=500;e.exports=function(t){var e=n(t,function(t){return r.size===o&&r.clear(),t}),r=e.cache;return e}},{"./memoize":116}],81:[function(t,e,r){var n=t("./_getNative")(Object,"create");e.exports=n},{"./_getNative":51}],82:[function(t,e,r){var n=t("./_overArg")(Object.keys,Object);e.exports=n},{"./_overArg":85}],83:[function(t,e,r){var n=t("./_freeGlobal"),o="object"==typeof r&&r&&!r.nodeType&&r,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===o&&n.process,s=function(){try{return i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=s},{"./_freeGlobal":47}],84:[function(t,e,r){var n=Object.prototype.toString;e.exports=function(t){return n.call(t)}},{}],85:[function(t,e,r){e.exports=function(t,e){return function(r){return t(e(r))}}},{}],86:[function(t,e,r){var n=t("./_freeGlobal"),o="object"==typeof self&&self&&self.Object===Object&&self,a=n||o||Function("return this")();e.exports=a},{"./_freeGlobal":47}],87:[function(t,e,r){var n="__lodash_hash_undefined__";e.exports=function(t){return this.__data__.set(t,n),this}},{}],88:[function(t,e,r){e.exports=function(t){return this.__data__.has(t)}},{}],89:[function(t,e,r){e.exports=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}},{}],90:[function(t,e,r){var n=t("./_ListCache");e.exports=function(){this.__data__=new n,this.size=0}},{"./_ListCache":4}],91:[function(t,e,r){e.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},{}],92:[function(t,e,r){e.exports=function(t){return this.__data__.get(t)}},{}],93:[function(t,e,r){e.exports=function(t){return this.__data__.has(t)}},{}],94:[function(t,e,r){var n=t("./_ListCache"),o=t("./_Map"),a=t("./_MapCache"),i=200;e.exports=function(t,e){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!o||s.length<i-1)return s.push([t,e]),this.size=++r.size,this;r=this.__data__=new a(s)}return r.set(t,e),this.size=r.size,this}},{"./_ListCache":4,"./_Map":5,"./_MapCache":6}],95:[function(t,e,r){var n=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,i=t("./_memoizeCapped")(function(t){var e=[];return n.test(t)&&e.push(""),t.replace(o,function(t,r,n,o){e.push(n?o.replace(a,"$1"):r||t)}),e});e.exports=i},{"./_memoizeCapped":80}],96:[function(t,e,r){var n=t("./isSymbol"),o=1/0;e.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}},{"./isSymbol":113}],97:[function(t,e,r){var n=Function.prototype.toString;e.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},{}],98:[function(t,e,r){var n=t("./isObject"),o=t("./now"),a=t("./toNumber"),i="Expected a function",s=Math.max,c=Math.min;e.exports=function(t,e,r){function u(e){var r=h,n=v;return h=v=void 0,m=e,d=t.apply(n,r)}function f(t){var r=t-g;return void 0===g||r>=e||r<0||j&&t-m>=y}function l(){var t=o();if(f(t))return p(t);b=setTimeout(l,function(t){var r=e-(t-g);return j?c(r,y-(t-m)):r}(t))}function p(t){return b=void 0,S&&h?u(t):(h=v=void 0,d)}function _(){var t=o(),r=f(t);if(h=arguments,v=this,g=t,r){if(void 0===b)return function(t){return m=t,b=setTimeout(l,e),x?u(t):d}(g);if(j)return b=setTimeout(l,e),u(g)}return void 0===b&&(b=setTimeout(l,e)),d}var h,v,y,d,b,g,m=0,x=!1,j=!1,S=!0;if("function"!=typeof t)throw new TypeError(i);return e=a(e)||0,n(r)&&(x=!!r.leading,y=(j="maxWait"in r)?s(a(r.maxWait)||0,e):y,S="trailing"in r?!!r.trailing:S),_.cancel=function(){void 0!==b&&clearTimeout(b),m=0,h=g=v=b=void 0},_.flush=function(){return void 0===b?d:p(o())},_}},{"./isObject":111,"./now":117,"./toNumber":123}],99:[function(t,e,r){e.exports=function(t,e){return t===e||t!=t&&e!=e}},{}],100:[function(t,e,r){var n=t("./_createFind")(t("./findIndex"));e.exports=n},{"./_createFind":43,"./findIndex":101}],101:[function(t,e,r){var n=t("./_baseFindIndex"),o=t("./_baseIteratee"),a=t("./toInteger"),i=Math.max;e.exports=function(t,e,r){var s=null==t?0:t.length;if(!s)return-1;var c=null==r?0:a(r);return c<0&&(c=i(s+c,0)),n(t,o(e,3),c)}},{"./_baseFindIndex":20,"./_baseIteratee":31,"./toInteger":122}],102:[function(t,e,r){var n=t("./_baseGet");e.exports=function(t,e,r){var o=null==t?void 0:n(t,e);return void 0===o?r:o}},{"./_baseGet":21}],103:[function(t,e,r){var n=t("./_baseHasIn"),o=t("./_hasPath");e.exports=function(t,e){return null!=t&&o(t,e,n)}},{"./_baseHasIn":24,"./_hasPath":56}],104:[function(t,e,r){e.exports=function(t){return t}},{}],105:[function(t,e,r){var n=t("./_baseIsArguments"),o=t("./isObjectLike"),a=Object.prototype,i=a.hasOwnProperty,s=a.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(t){return o(t)&&i.call(t,"callee")&&!s.call(t,"callee")};e.exports=c},{"./_baseIsArguments":25,"./isObjectLike":112}],106:[function(t,e,r){var n=Array.isArray;e.exports=n},{}],107:[function(t,e,r){var n=t("./isFunction"),o=t("./isLength");e.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},{"./isFunction":109,"./isLength":110}],108:[function(t,e,r){var n=t("./_root"),o=t("./stubFalse"),a="object"==typeof r&&r&&!r.nodeType&&r,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===a?n.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;e.exports=c},{"./_root":86,"./stubFalse":120}],109:[function(t,e,r){var n=t("./_baseGetTag"),o=t("./isObject"),a="[object AsyncFunction]",i="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(t){if(!o(t))return!1;var e=n(t);return e==i||e==s||e==a||e==c}},{"./_baseGetTag":23,"./isObject":111}],110:[function(t,e,r){var n=9007199254740991;e.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},{}],111:[function(t,e,r){e.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},{}],112:[function(t,e,r){e.exports=function(t){return null!=t&&"object"==typeof t}},{}],113:[function(t,e,r){var n=t("./_baseGetTag"),o=t("./isObjectLike"),a="[object Symbol]";e.exports=function(t){return"symbol"==typeof t||o(t)&&n(t)==a}},{"./_baseGetTag":23,"./isObjectLike":112}],114:[function(t,e,r){var n=t("./_baseIsTypedArray"),o=t("./_baseUnary"),a=t("./_nodeUtil"),i=a&&a.isTypedArray,s=i?o(i):n;e.exports=s},{"./_baseIsTypedArray":30,"./_baseUnary":39,"./_nodeUtil":83}],115:[function(t,e,r){var n=t("./_arrayLikeKeys"),o=t("./_baseKeys"),a=t("./isArrayLike");e.exports=function(t){return a(t)?n(t):o(t)}},{"./_arrayLikeKeys":15,"./_baseKeys":32,"./isArrayLike":107}],116:[function(t,e,r){function n(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(a);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=t.apply(this,n);return r.cache=a.set(o,i)||a,i};return r.cache=new(n.Cache||o),r}var o=t("./_MapCache"),a="Expected a function";n.Cache=o,e.exports=n},{"./_MapCache":6}],117:[function(t,e,r){var n=t("./_root");e.exports=function(){return n.Date.now()}},{"./_root":86}],118:[function(t,e,r){var n=t("./_baseProperty"),o=t("./_basePropertyDeep"),a=t("./_isKey"),i=t("./_toKey");e.exports=function(t){return a(t)?n(i(t)):o(t)}},{"./_baseProperty":35,"./_basePropertyDeep":36,"./_isKey":63,"./_toKey":96}],119:[function(t,e,r){e.exports=function(){return[]}},{}],120:[function(t,e,r){e.exports=function(){return!1}},{}],121:[function(t,e,r){var n=t("./toNumber"),o=1/0,a=1.7976931348623157e308;e.exports=function(t){if(!t)return 0===t?t:0;if((t=n(t))===o||t===-o)return(t<0?-1:1)*a;return t==t?t:0}},{"./toNumber":123}],122:[function(t,e,r){var n=t("./toFinite");e.exports=function(t){var e=n(t),r=e%1;return e==e?r?e-r:e:0}},{"./toFinite":121}],123:[function(t,e,r){var n=t("./isObject"),o=t("./isSymbol"),a=NaN,i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,f=parseInt;e.exports=function(t){if("number"==typeof t)return t;if(o(t))return a;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var r=c.test(t);return r||u.test(t)?f(t.slice(2),r?2:8):s.test(t)?a:+t}},{"./isObject":111,"./isSymbol":113}],124:[function(t,e,r){var n=t("./_baseToString");e.exports=function(t){return null==t?"":n(t)}},{"./_baseToString":38}],125:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var o=n(t("../config")),a=n(t("lodash/debounce")),i=n(t("lodash/find"));!function(t,r,n,s){var c={data:null,debounceSpeed:150,mapboxConfig:{container:"scrollmap",style:"mapbox://styles/aosika/cj8tmsx9cdk3m2rqmxbq8gr1b",center:[0,0],zoom:1},markerConfig:{color:"#FFF",fontSize:"1.6rem",dimensions:{width:"45px",height:"60px"}}},u=function(e){this.options=t.extend(!0,c,e),this.init(),this.controller={afterMapInstantiation:function(t){this.loaded(t)}}};u.prototype={map:null,activeId:null,currentActiveId:null,allowPan:!0,isSrolling:!1,isMobile:!0,mapOffset:null,isToggled:!1,init:function(){this.checkScreenSize(),this.initWindowResizeEvent(),this.getMapHeight(),this.instantiateMap(),this.initToggleEvent()},instantiateMap:function(){var t=this,e=void 0;mapboxgl.accessToken=o.default.mapboxAccessToken,(e=new mapboxgl.Map(this.options.mapboxConfig)).scrollZoom.disable(),e.addControl(new mapboxgl.NavigationControl,"top-left"),this.map=e,new Promise(function(e,r){t.map.on("load",t.mapLoad.bind(t,e))}).then(this.afterMapLoad.bind(this,this.map))},mapLoad:function(t){var e=this;t(),this.options.geojson.features.forEach(function(t,r){e.generateMarker(t,r)})},afterMapLoad:function(t){this.controller.afterMapInstantiation(t),this.scrollHandler(),this.addScrollListener(),this.initMarkerClickEvent()},scrollHandler:function(){for(var t=0;t<this.options.geojson.features.length;t++){var e=n.querySelectorAll(".scrollmap-pane")[t];if(this.isElementOnScreen(e)){console.log("el on screen"),this.activeId=e.dataset.id;break}if(0===r.scrollY){this.resetScrollmap();break}}this.highlightActiveMarker(this.activeId)},resetScrollmap:function(){console.log("reset map");for(var t=n.querySelectorAll(".marker-img"),e=n.querySelectorAll(".marker"),r=0;r<t.length;r++)t[r].style.opacity=.5,t[r].style.backgroundImage='url("/images/map-marker.png")',e[r].style.zIndex=10-r;this.map.panTo([100,30]),this.currentActiveId=this.activeId=null},checkScreenSize:function(){r.innerWidth>760?this.isMobile=!1:this.isMobile=!0},initWindowResizeEvent:function(){var e=this;t(r).on("resize",function(){e.checkScreenSize(),e.isToggled&&e.toggleMap()})},getMapHeight:function(){var t=n.querySelector(".scrollmap-map"),e=r.getComputedStyle(t).getPropertyValue("height");this.mapOffset=parseInt(e)},highlightActiveMarker:function(e){var r=this;if(this.currentActiveId!==e){for(var o=n.querySelectorAll(".marker-img"),a=n.querySelectorAll(".marker"),s=0;s<o.length;s++)o[s].style.opacity=.5,o[s].style.backgroundImage='url("/images/map-marker.png")',a[s].style.zIndex=10-s;t(".marker[data-id="+e+"]").css({"z-index":1e3}),t(".marker[data-id="+e+"]").find(".marker-img").css({opacity:1,"background-image":'url("/images/map-marker-active.png")'}),(0,i.default)(this.options.geojson.features,function(t){t.properties.id===e&&r.panHandler(t.geometry.coordinates)})}this.currentActiveId=e},addScrollListener:function(){r.addEventListener("scroll",(0,a.default)(this.scrollHandler.bind(this),this.options.debounceSpeed),!0)},panHandler:function(t){this.map.panTo(t)},isElementOnScreen:function(t){var e=t.getBoundingClientRect();return this.isMobile?e.top<r.innerHeight-this.mapOffset&&e.bottom-this.mapOffset>0:r.scrollY>e.top-24&&e.top<r.innerHeight&&e.bottom>0},generateMarker:function(t,e){var r=n.createElement("div");r.className="marker",r.style.width=this.options.markerConfig.dimensions.width,r.style.height=this.options.markerConfig.dimensions.height,r.style.zIndex=10-e,r.dataset.id=t.properties.id;var o=r.appendChild(n.createElement("div"));o.className="marker-img",o.style.position="absolute",o.style.width="100%",o.style.height="100%",o.dataset.id=t.properties.id;var a=r.appendChild(n.createElement("div"));a.style.position="relative",a.style.top="-"+parseFloat(this.options.markerConfig.fontSize)/4+"rem",a.style.color=this.options.markerConfig.color,a.style.display="flex",a.style.alignItems="center",a.style.justifyContent="center",a.style.width="100%",a.style.height="100%",a.style.zIndex="1",a.style.fontSize=this.options.markerConfig.fontSize,a.dataset.id=t.properties.id;var i=n.createTextNode(e+1);a.appendChild(i);new mapboxgl.Marker(r,{offset:[-parseInt(this.options.markerConfig.dimensions.width)/10,-parseInt(this.options.markerConfig.dimensions.height)/2]}).setLngLat(t.geometry.coordinates).addTo(this.map)},initMarkerClickEvent:function(){var e=this;t(n).on("click",".marker",function(t){e.isToggled?(e.toggleMap(),r.setTimeout(function(){e.scrollMap(t)},200)):e.scrollMap(t)})},scrollMap:function(e){console.log(e.currentTarget);var r=e.currentTarget.dataset.id;this.activeId=r,this.highlightActiveMarker(this.activeId);var n=t(".scrollmap-pane[data-id="+r+"]")[0].offsetTop-24;t("html, body").animate({scrollTop:n})},initToggleEvent:function(){t(".scrollmap__toggle-map").on("click",this.toggleMap.bind(this))},toggleMap:function(){this.isToggled?(t(".scrollmap-map, .scrollmap-content, .scrollmap-controls").removeAttr("style"),this.isToggled=!1):(t(".scrollmap-map").css("height","100%"),t(".scrollmap-content").css("display","none"),t(".scrollmap-controls").css({position:"fixed",top:"auto",bottom:0}),this.isToggled=!0),this.map.resize()}},e.exports=u}(jQuery,window,document)},{"../config":1,"lodash/debounce":98,"lodash/find":100}]},{},[125])(125)});
//# sourceMappingURL=scrollmap.min.js.map
