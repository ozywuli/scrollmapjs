!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Scrollmap=t()}}(function(){return function t(e,n,o){function i(a,f){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!f&&u)return u(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var s=n[a]={exports:{}};e[a][0].call(s.exports,function(t){var n=e[a][1][t];return i(n||t)},s,s.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default={mapboxAccessToken:"pk.eyJ1IjoiYW9zaWthIiwiYSI6IjQzRGIxeEkifQ.7OvmyBbXwwt9Qxjlh9Qd3w"}},{}],2:[function(t,e,n){var o=t("./_root").Symbol;e.exports=o},{"./_root":7}],3:[function(t,e,n){var o=t("./_Symbol"),i=t("./_getRawTag"),r=t("./_objectToString"),a="[object Null]",f="[object Undefined]",u=o?o.toStringTag:void 0;e.exports=function(t){return null==t?void 0===t?f:a:u&&u in Object(t)?i(t):r(t)}},{"./_Symbol":2,"./_getRawTag":5,"./_objectToString":6}],4:[function(t,e,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(t,e,n){var o=t("./_Symbol"),i=Object.prototype,r=i.hasOwnProperty,a=i.toString,f=o?o.toStringTag:void 0;e.exports=function(t){var e=r.call(t,f),n=t[f];try{t[f]=void 0;var o=!0}catch(t){}var i=a.call(t);return o&&(e?t[f]=n:delete t[f]),i}},{"./_Symbol":2}],6:[function(t,e,n){var o=Object.prototype.toString;e.exports=function(t){return o.call(t)}},{}],7:[function(t,e,n){var o=t("./_freeGlobal"),i="object"==typeof self&&self&&self.Object===Object&&self,r=o||i||Function("return this")();e.exports=r},{"./_freeGlobal":4}],8:[function(t,e,n){var o=t("./isObject"),i=t("./now"),r=t("./toNumber"),a="Expected a function",f=Math.max,u=Math.min;e.exports=function(t,e,n){function c(e){var n=b,o=m;return b=m=void 0,h=e,y=t.apply(o,n)}function s(t){var n=t-x;return void 0===x||n>=e||n<0||w&&t-h>=v}function l(){var t=i();if(s(t))return d(t);g=setTimeout(l,function(t){var n=e-(t-x);return w?u(n,v-(t-h)):n}(t))}function d(t){return g=void 0,_&&b?c(t):(b=m=void 0,y)}function p(){var t=i(),n=s(t);if(b=arguments,m=this,x=t,n){if(void 0===g)return function(t){return h=t,g=setTimeout(l,e),j?c(t):y}(x);if(w)return g=setTimeout(l,e),c(x)}return void 0===g&&(g=setTimeout(l,e)),y}var b,m,v,y,g,x,h=0,j=!1,w=!1,_=!0;if("function"!=typeof t)throw new TypeError(a);return e=r(e)||0,o(n)&&(j=!!n.leading,v=(w="maxWait"in n)?f(r(n.maxWait)||0,e):v,_="trailing"in n?!!n.trailing:_),p.cancel=function(){void 0!==g&&clearTimeout(g),h=0,b=x=m=g=void 0},p.flush=function(){return void 0===g?y:d(i())},p}},{"./isObject":9,"./now":12,"./toNumber":13}],9:[function(t,e,n){e.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},{}],10:[function(t,e,n){e.exports=function(t){return null!=t&&"object"==typeof t}},{}],11:[function(t,e,n){var o=t("./_baseGetTag"),i=t("./isObjectLike"),r="[object Symbol]";e.exports=function(t){return"symbol"==typeof t||i(t)&&o(t)==r}},{"./_baseGetTag":3,"./isObjectLike":10}],12:[function(t,e,n){var o=t("./_root");e.exports=function(){return o.Date.now()}},{"./_root":7}],13:[function(t,e,n){var o=t("./isObject"),i=t("./isSymbol"),r=NaN,a=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,s=parseInt;e.exports=function(t){if("number"==typeof t)return t;if(i(t))return r;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=u.test(t);return n||c.test(t)?s(t.slice(2),n?2:8):f.test(t)?r:+t}},{"./isObject":9,"./isSymbol":11}],14:[function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var i=o(t("../config")),r=o(t("lodash/debounce"));!function(t,n,o,a){var f={data:null,mapboxConfig:{container:"scrollmap",style:"mapbox://styles/aosika/cj8tmsx9cdk3m2rqmxbq8gr1b",center:[0,0],zoom:1}},u=function(e){this.options=t.extend(!0,f,e),this.init(),this.controller={afterMapInstantiation:function(t){this.loaded(t)}}};u.prototype={map:null,init:function(){this.instantiateMap(),this.addScrollListener()},instantiateMap:function(){var t=this,e=void 0;mapboxgl.accessToken=i.default.mapboxAccessToken,e=new mapboxgl.Map(this.options.mapboxConfig),this.map=e,new Promise(function(e,n){t.map.on("load",t.mapLoad.bind(t,e))}).then(this.afterMapLoad.bind(this,this.map))},mapLoad:function(t){var e=this;t(),this.options.geojson.features.forEach(function(t){var n=o.createElement("div");n.className="marker",new mapboxgl.Marker(n).setLngLat(t.geometry.coordinates).addTo(e.map)})},afterMapLoad:function(t){this.controller.afterMapInstantiation(t)},scrollHandler:function(){console.log("scrolling")},addScrollListener:function(){n.addEventListener("scroll",(0,r.default)(this.scrollHandler,150),!0)}},e.exports=u}(jQuery,window,document)},{"../config":1,"lodash/debounce":8}]},{},[14])(14)});
//# sourceMappingURL=scrollmap.min.js.map
